<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Discrete Automation Editor - Test</title>

    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/snap.svg.js"></script>
    <script type="text/javascript" src="js/plugin_connect.js"></script>
    <script type="text/javascript" src="js/modal_form.js"></script>
    <script type="text/javascript" src="js/modal_form_draggable.js"></script>
    <script type="text/javascript" src="js/FlowChartScripts/SnapController.js"></script>
    <script type="text/javascript" src="js/FlowChartScripts/SnapModel.js"></script>
    <script type="text/javascript" src="js/add_variable.js"></script>
    <script type="text/javascript" src="js/terminal.js"></script>
    <script type="text/javascript" src="js/DiscreteAuto.js"></script>
    <script type="text/javascript" src="js/FlowChartScripts/GraphVisualizer.js"></script>

    <link rel="stylesheet" type="text/css" href="css/style.css">

    <script type="text/javascript">

        var terminal;
        var discreteAuto = null;

        jQuery(document).ready(function($) {

            terminal = new Terminal();
            //discreteAuto = new DiscreteAuto();

            $("#terminal-input").keyup(function(event){
                if(event.keyCode === 13) {
                    $('#terminal-send-button').click();
                }
            });

            terminal.clearTerminal();
            controller.testShow();

            $( "#modal_form_draggable" ).draggable();
        });

        function button_send_clicked() {
            var terminalInput = $('#terminal-input');

            terminal.sendToTerminal(terminalInput.val(), terminal.USER_MSG_TYPE);
            controller.sendTerminalCommand(terminalInput.val());
            //discreteAuto.sendInput(terminalInput.val());

            terminalInput.val('');
        }

    </script>
</head>

<body>

    <h1>This is test page</h1>
    Content here (Modified by <strong>Nick</strong>)

    <!------------ Модальное окно Диаграммы ------------>
    <div id="modal_form">
        <span id="modal_close">X</span>
    </div>
    <div id="overlay"></div>

    <!------------ Модальное окно Диаграммы перемещаемое ------------>
    <div id="modal_form_draggable">
        <span id="modal_close_draggable">X</span>
    </div>

    <!-------- Главное окно визуального редактора snap.svg  ------>
    <svg id="editor" width="100%" height="100%">

    </svg>

    <!--------- Терминал для ввода команд  ---------->
    <div id="terminal-content">
        <div id="terminal-top-line"></div>
        <div id="terminal-body">
            <div id="terminal-input-line">
                <input type="text" id="terminal-input">
                <input type="button" value="Отправить" id="terminal-send-button" onclick="button_send_clicked()">
            </div>
            <div id="terminal-text-content">
                <div id="terminal-vertical-scrollbar">
                    <div id="terminal-text">
                        <div class="terminal-text-row">test 1</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="js/FlowChartScripts/SnapMain.js"></script>
</body>
</html>